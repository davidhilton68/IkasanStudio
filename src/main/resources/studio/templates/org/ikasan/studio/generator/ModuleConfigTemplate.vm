/**
* The module config class defines details of the modules and identifies the flows but should not contain details
* of the components in each flow.
*
* This file is auto-generated by Ikasan Studio, do no edit.
*/
@org.springframework.context.annotation.Configuration("ModuleFactory")
@org.springframework.context.annotation.ImportResource({
"classpath:h2-datasource-conf.xml",
"classpath:ikasan-transaction-pointcut-ikasanMessageListener.xml"
})
public class $className {
@org.springframework.beans.factory.annotation.Value(#[["${module.name}"]]#)
private String moduleName;

@javax.annotation.Resource
org.ikasan.builder.BuilderFactory builderFactory;

#foreach( $flow in $flows )
@javax.annotation.Resource
${studioBasePackage}.${flow.JavaPackageName}.${flow.JavaClassName} ${flow.JavaVariableName};
#end

@org.springframework.context.annotation.Bean
public org.ikasan.spec.module.Module myModule()
{
org.ikasan.builder.ModuleBuilder moduleBuilder = builderFactory.getModuleBuilder(moduleName)
#if ( $module.Description )
.withDescription("${module.Description}")
#end
;

org.ikasan.builder.component.ComponentBuilder componentBuilder = builderFactory.getComponentBuilder();

org.ikasan.spec.module.Module module = moduleBuilder
#foreach( $flow in $module.flows )
.addFlow(${flow.JavaVariableName}.get${flow.JavaClassName}())
#end
.build();
return module;
}

}